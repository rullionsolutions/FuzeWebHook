# FuzeWebHook

This is the start of a webhook for fuze call events, it will provide an endpoint to be passed to fuze, they will call it with call event data.



The call object from fuze s detailed below, this function pics out the useful parts and stashes them in a table for powerbi to do the analysis on.

CallResponseObject {
call (Call)
}
Call {
linkedId (string): The unique identifier for a call. The Linkedid is generated by the call server and will persist even as the call is transferred or forwarded. An example of a Linkedid is: cam-z6-call5-1495559375.646708. The syntax contains three parts:
Call server (e.g. cam-z6-call5)
Epoch timestamp (e.g. 1496762554, equivalent to June 6, 2017 3:22:34 PM)
Call number since last restart
,
startedAt (string): The time that the call was initiated. This field, as well as endedAt and answeredAt, is in zoned date time format (UTC): yyyy-MM-ddTHH:mm:ssZ ,
endedAt (string): The time that the call ended / completed ,
answeredAt (string): The time that the call was answered, or null if the call was not answered. To calculate the talk time of a call, you would subtract the answeredAt value from the endedAt value. The talk time represents the billable amount of time for the call (Note that in the web app, call duration is calculated by taking the endedAt and subtracting startedAt) ,
duration (integer): The number of milliseconds between when the call was answered and when it ended, or 0 if the call was not answered ,
from (CallPeer): Represents the party originating / initiating the call ,
to (CallPeer): Represents the party which answered the call or was dialed (if no answer) ,
legs (Array[Leg]): Describes the number dialed, various IVR menus, queues, transfers and hangup events involved in the call ,
disposition (string): Describes the result or outcome of a call. This includes Answered, No Answer, Voicemail, Transfer, Forwarded, Check Voicemail, Agent Login, and more ,
direction (string): Distinguishes between calls within the company (internal), calls from a company number to an outside number (outbound), calls from an outside number to a company number (inbound), and platform interactions like checking voicemail (platform) ,
initialQueueName (string): The name of the first queue that the call entered ,
joinedLinkedIds (Array[string]): LinkedIds of additional call segments associated with this call. In conjunction with the primary linkedId, this field can be used to find all call recordings associated with the call ,
version (Version): The current version of the Fuze Data platform
}
CallPeer {
number (string): The phone number / DID of the caller/callee ,
number_e164 (string): The phone number, normalized according to the E.164 format for international phone numbers ,
connectedAt (string): The time at which the caller/callee connected to the call ,
disconnectedAt (string): The time at which the caller/callee disconnected from the call ,
name (string): The caller ID of the caller/callee ,
userId (string): The unique user ID associated to the caller/callee, if any ,
serviceId (string): The unique service ID associated to the caller/callee, if any ,
departmentName (string): The department name with which the caller/callee is associated ,
deviceType (string): Identifies the type of physical device used by the caller or answering callee, such as Mobile, Softphone, Polycom, etc.
}
Leg {
legType (string): The type of the call leg (Dial, Number, EnterIVR, EnterQueue, AttendedTransfer, etc) ,
timestamp (string): The time at which the call leg occurred ,
number (string): The phone number involved in the call leg, if any ,
userId (string): The unique user ID associated with the call leg, if any ,
serviceId (string): The unique service ID associated with the call leg, if any ,
departmentName (string): The department name with which the call leg is associated, if any ,
deviceType (string): Identifies the type of physical device used in the call leg, such as Mobile, Softphone, Polycom, etc ,
menuName (string): The unique id of the IVR menu involved in the call leg, if any ,
menuOption (string): The option the user selected from the IVR menu, if any ,
queueName (string): The unique id of the queue involved in the call leg, if any
}
Version {
major (integer),
minor (integer),
point (integer),
label (string)
}